[gd_scene format=3 uid="uid://nqq7fmjjjqi2"]

[ext_resource type="Script" uid="uid://bjidvo1x7q2wk" path="res://scenes/joy/joy.gd" id="1_c43gh"]
[ext_resource type="PackedScene" uid="uid://c7t884v5eoyj2" path="res://scenes/health_component/health_component.tscn" id="2_8c6cf"]
[ext_resource type="PackedScene" uid="uid://qcdqy265pju8" path="res://scenes/damage_marker/damage_marker.tscn" id="2_mbnm7"]
[ext_resource type="PackedScene" uid="uid://b341wguj0trwh" path="res://scenes/joy/enemy_hitbox.tscn" id="2_wrlo7"]
[ext_resource type="PackedScene" uid="uid://8jkqc546roxn" path="res://scenes/spike/spike.tscn" id="3_ji81p"]
[ext_resource type="PackedScene" uid="uid://cq3q2tiqvajbb" path="res://scenes/shadow/shadow.tscn" id="5_us03m"]
[ext_resource type="PackedScene" uid="uid://dpoqyir7hlw2i" path="res://scenes/projectile/projectile.tscn" id="6_msrb8"]
[ext_resource type="PackedScene" uid="uid://esrufy8jrr3w" path="res://scenes/joy/enemy_attack.tscn" id="8_8g10w"]
[ext_resource type="Texture2D" uid="uid://qd1ssxkivdg0" path="res://assets/Joy_BodyParts/Joy_Body.png" id="9_ji81p"]
[ext_resource type="Texture2D" uid="uid://ckq3gbug6irjn" path="res://assets/Joy_BodyParts/Joy_Head.png" id="10_vgs4h"]
[ext_resource type="Texture2D" uid="uid://fmvwax25y7rn" path="res://assets/Joy_BodyParts/Joy_UpperArm.png" id="11_gj5e6"]
[ext_resource type="Texture2D" uid="uid://2yrpuomuqq2g" path="res://assets/Joy_BodyParts/Joy_LowerArm.png" id="11_jhj58"]
[ext_resource type="Texture2D" uid="uid://byymx773thxkj" path="res://assets/Joy_BodyParts/Joy_UpperLeg.png" id="13_nuqnv"]
[ext_resource type="Texture2D" uid="uid://bqy0nhrnkaa3f" path="res://assets/Joy_BodyParts/Joy_LowerLeg.png" id="14_pfiip"]

[sub_resource type="Animation" id="Animation_ji81p"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:process_mode")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("JumpExplodeAttack:shape:radius")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [13.038404]
}

[sub_resource type="Animation" id="Animation_vgs4h"]
resource_name = "big_jump_attack"
length = 0.3
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:process_mode")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [3, 4]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("JumpExplodeAttack:shape:radius")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [13.038404, 504.69, 13.038404]
}

[sub_resource type="Animation" id="Animation_jhj58"]
resource_name = "idle"
length = 0.5
loop_mode = 1
step = 0.01

[sub_resource type="Animation" id="Animation_8g10w"]
resource_name = "jump_explode_attack"
length = 0.3
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:process_mode")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [3, 4]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("JumpExplodeAttack:shape:radius")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [13.038404, 113.84, 13.038404]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ji81p"]
_data = {
&"RESET": SubResource("Animation_ji81p"),
&"big_jump_attack": SubResource("Animation_vgs4h"),
&"idle": SubResource("Animation_jhj58"),
&"small_jump_attack": SubResource("Animation_8g10w")
}

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_wrlo7"]
radius = 125.0
height = 256.0

[sub_resource type="CircleShape2D" id="CircleShape2D_8g10w"]
radius = 13.038404

[node name="Joy" type="Node2D" unique_id=759606728 node_paths=PackedStringArray("animation_player", "jump_projectile")]
script = ExtResource("1_c43gh")
damage_marker_prototype = ExtResource("2_mbnm7")
spike_prototype = ExtResource("3_ji81p")
animation_player = NodePath("AnimationPlayer")
jump_projectile = NodePath("JumpProjectile")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." unique_id=1684279621]
root_node = NodePath("../EnemyAttack")
libraries/ = SubResource("AnimationLibrary_ji81p")

[node name="JumpProjectile" parent="." unique_id=390359344 node_paths=PackedStringArray("shadow", "graphics") instance=ExtResource("6_msrb8")]
destroy_on_hit = false
animate_rotation = false
launch_angle_degrees = 60.0
shadow = NodePath("../Shadow")
graphics = NodePath("../Visuals")

[node name="Shadow" parent="." unique_id=862329244 instance=ExtResource("5_us03m")]
shadow_size = 62

[node name="HitBox" parent="." unique_id=18722359 instance=ExtResource("2_wrlo7")]
position = Vector2(1.5, -73)

[node name="CollisionShape2D" type="CollisionShape2D" parent="HitBox" unique_id=580527166]
position = Vector2(0.5, -22)
shape = SubResource("CapsuleShape2D_wrlo7")
debug_color = Color(0.673618, 0.5019504, 0.21621296, 0.41960785)

[node name="HealthComponent" parent="." unique_id=870133478 instance=ExtResource("2_8c6cf")]

[node name="EnemyAttack" parent="." unique_id=1621430019 instance=ExtResource("8_8g10w")]
process_mode = 3

[node name="JumpExplodeAttack" type="CollisionShape2D" parent="EnemyAttack" unique_id=528120268]
shape = SubResource("CircleShape2D_8g10w")

[node name="Visuals" type="Node2D" parent="." unique_id=433772191]
modulate = Color(0, 0, 0, 1)
position = Vector2(1, -176)
scale = Vector2(0.605, 0.605)

[node name="Body" type="Sprite2D" parent="Visuals" unique_id=284086485]
position = Vector2(-1.6528926, -72.72727)
texture = ExtResource("9_ji81p")
offset = Vector2(2.6528926, -58.272728)

[node name="Head" type="Sprite2D" parent="Visuals/Body" unique_id=1470119196]
position = Vector2(-0.34710753, -128.27274)
texture = ExtResource("10_vgs4h")
offset = Vector2(9, -80)

[node name="ArmLeftTop" type="Sprite2D" parent="Visuals/Body" unique_id=942073876]
position = Vector2(-41.347107, -99.27273)
rotation = 1.2161132
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("11_gj5e6")
offset = Vector2(-1, 35)

[node name="ArmLeftHand" type="Sprite2D" parent="Visuals/Body/ArmLeftTop" unique_id=2027171559]
position = Vector2(-6.9620485, 67.70813)
rotation = 0.98009545
scale = Vector2(0.9999999, 0.9999999)
texture = ExtResource("11_jhj58")
offset = Vector2(-10.681068, 67.554794)

[node name="ArmRightTop" type="Sprite2D" parent="Visuals/Body" unique_id=36167647]
position = Vector2(47.15289, -101.01412)
rotation = -1.0378628
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("11_gj5e6")
offset = Vector2(3, 34)
flip_h = true

[node name="ArmRightHand" type="Sprite2D" parent="Visuals/Body/ArmRightTop" unique_id=1001580804]
position = Vector2(9.111871, 64.61676)
rotation = -0.9241395
scale = Vector2(1.0000001, 1.0000001)
texture = ExtResource("11_jhj58")
offset = Vector2(11.610359, 69.54457)
flip_h = true

[node name="LegLeftTop" type="Sprite2D" parent="Visuals/Body" unique_id=986433329]
position = Vector2(-28.347107, 4.7272797)
rotation = 0.4953735
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("13_nuqnv")
offset = Vector2(0, 95)

[node name="LegLeftFoot" type="Sprite2D" parent="Visuals/Body/LegLeftTop" unique_id=422019175]
position = Vector2(1.1529922, 191.74646)
rotation = -0.84210324
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("14_pfiip")
offset = Vector2(10.082642, 97.55371)

[node name="LegRightTop" type="Sprite2D" parent="Visuals/Body" unique_id=482481410]
position = Vector2(30.652891, 11.727272)
rotation = -0.4735432
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("13_nuqnv")
offset = Vector2(3, 93)
flip_h = true

[node name="LegRightFoot" type="Sprite2D" parent="Visuals/Body/LegRightTop" unique_id=1431154728]
position = Vector2(6.742302, 184.11105)
rotation = 0.8498502
texture = ExtResource("14_pfiip")
offset = Vector2(-1.6528931, 104.132225)
flip_h = true
